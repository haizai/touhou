{"version":3,"sources":["webpack:///game.js","webpack:///webpack/bootstrap 08ffa23fdd82bf0536b5","webpack:///./src/main.js","webpack:///./src/LnGame/LnGame.js","webpack:///./src/scene/scene.js","webpack:///./src/play/Play.js","webpack:///./src/LnGame/LnImage.js","webpack:///./src/LnGame/LnAnime.js","webpack:///./src/play/PlayAnime.js","webpack:///./src/config.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_LnGame","_LnGame2","_scene","_scene2","_config","_config2","enableDebugMode","game","enable","images","ball","pl00_01","pl00_02","pl00_03","pl00_04","pl00_05","pl00_06","pl00_07","pl00_08","pl00_09","pl00_10","pl00_11","pl00_12","pl00_13","pl00_14","pl00_15","pl00_16","pl00_17","pl00_18","pl00_19","pl00_20","pl00_21","pl00_22","pl00_23","pl00_24","instance","g","s","runWithScene","console","log","_classCallCheck","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","LnGame","fps","config","runCallback","_this","this","window","textures","scene","actions","endActions","startActions","keydowns","canvas","document","querySelector","context","getContext","addEventListener","event","keyCode","allow","cb","init","img","texture","name","drawImage","x","w","y","h","startCb","endCb","_this2","setTimeout","runloop","_this3","keys","update","clearRect","width","heithisht","draw","loads","names","_loop","path","Image","src","onload","__start","_len","arguments","args","Array","_key","Function","bind","apply","concat","_Play","_Play2","Scene","eles","addEle","registerAction","onDirection","offDirection","push","forEach","ele","fillStyle","fillRect","height","drawEles","paused","anime","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","_LnImage2","_LnImage3","_LnAnime","_PlayAnime","_PlayAnime2","Play","_LnImage","getPrototypeOf","speed","l","r","t","b","lf","tb","moveStage","direction","moveLeft","moveRight","moveTop","moveBottom","stay","lr","move","LnImage","LnAnime","lnImage","frameCount","undefined","iteration","changeNames","frameIndex","nowCount","frames","image","map","PlayAnime","stayImgs","stayToLeftImgs","leftImgs","stayToRightImgs","rightImgs","infinieFrame","quickFrame","stage","nextFun","doAnime","end","configAnime","_this4","slice","reverse"],"mappings":"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","file":"game.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/public/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _LnGame = __webpack_require__(1);\n\t\n\tvar _LnGame2 = _interopRequireDefault(_LnGame);\n\t\n\tvar _scene = __webpack_require__(2);\n\t\n\tvar _scene2 = _interopRequireDefault(_scene);\n\t\n\tvar _config = __webpack_require__(7);\n\t\n\tvar _config2 = _interopRequireDefault(_config);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar enableDebugMode = function enableDebugMode(game, enable) {\n\t  if (!enable) return;\n\t};\n\t\n\tvar images = {\n\t  ball: 'img/ball.png',\n\t  // block: 'img/block.png',\n\t  // paddle: 'img/paddle.png',\n\t  pl00_01: 'img/pl00/pl00_01.png',\n\t  pl00_02: 'img/pl00/pl00_02.png',\n\t  pl00_03: 'img/pl00/pl00_03.png',\n\t  pl00_04: 'img/pl00/pl00_04.png',\n\t  pl00_05: 'img/pl00/pl00_05.png',\n\t  pl00_06: 'img/pl00/pl00_06.png',\n\t  pl00_07: 'img/pl00/pl00_07.png',\n\t  pl00_08: 'img/pl00/pl00_08.png',\n\t  pl00_09: 'img/pl00/pl00_09.png',\n\t  pl00_10: 'img/pl00/pl00_10.png',\n\t  pl00_11: 'img/pl00/pl00_11.png',\n\t  pl00_12: 'img/pl00/pl00_12.png',\n\t  pl00_13: 'img/pl00/pl00_13.png',\n\t  pl00_14: 'img/pl00/pl00_14.png',\n\t  pl00_15: 'img/pl00/pl00_15.png',\n\t  pl00_16: 'img/pl00/pl00_16.png',\n\t  pl00_17: 'img/pl00/pl00_17.png',\n\t  pl00_18: 'img/pl00/pl00_18.png',\n\t  pl00_19: 'img/pl00/pl00_19.png',\n\t  pl00_20: 'img/pl00/pl00_20.png',\n\t  pl00_21: 'img/pl00/pl00_21.png',\n\t  pl00_22: 'img/pl00/pl00_22.png',\n\t  pl00_23: 'img/pl00/pl00_23.png',\n\t  pl00_24: 'img/pl00/pl00_24.png'\n\t};\n\tvar game = _LnGame2.default.instance(30, _config2.default, images, function (g) {\n\t  var s = new _scene2.default(g);\n\t  g.runWithScene(s);\n\t});\n\tenableDebugMode(game, true);\n\t\n\tconsole.log(game);\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar LnGame = function () {\n\t  function LnGame(fps, config, images, runCallback) {\n\t    var _this = this;\n\t\n\t    _classCallCheck(this, LnGame);\n\t\n\t    window.fps = fps;\n\t    this.config = config;\n\t    this.images = images;\n\t\n\t    this.textures = {};\n\t    this.runCallback = runCallback;\n\t\n\t    this.scene = null;\n\t    this.actions = {};\n\t    this.endActions = {};\n\t    this.startActions = {};\n\t    this.keydowns = {};\n\t    this.canvas = document.querySelector('#id-canvas');\n\t    this.context = this.canvas.getContext('2d');\n\t\n\t    window.addEventListener('keydown', function (event) {\n\t      _this.keydowns[event.keyCode] = true;\n\t      if (_this.startActions[event.keyCode] && _this.startActions[event.keyCode].allow) {\n\t        _this.startActions[event.keyCode].cb();\n\t        _this.startActions[event.keyCode].allow = false;\n\t      }\n\t    });\n\t    window.addEventListener('keyup', function (event) {\n\t      _this.keydowns[event.keyCode] = false;\n\t      if (_this.endActions[event.keyCode]) {\n\t        _this.endActions[event.keyCode]();\n\t        if (_this.startActions[event.keyCode]) {\n\t          _this.startActions[event.keyCode].allow = true;\n\t        }\n\t      }\n\t    });\n\t\n\t    this.init();\n\t  }\n\t\n\t  _createClass(LnGame, [{\n\t    key: 'drawImage',\n\t    value: function drawImage(img) {\n\t      var texture = this.textures[img.name];\n\t      this.context.drawImage(texture, img.x - img.w / 2, img.y - img.h / 2);\n\t    }\n\t  }, {\n\t    key: 'registerAction',\n\t    value: function registerAction(keyCode, cb, startCb, endCb) {\n\t      if (cb) this.actions[keyCode] = cb;\n\t\n\t      if (startCb) this.startActions[keyCode] = {\n\t        cb: startCb,\n\t        allow: true\n\t      };\n\t\n\t      if (endCb) this.endActions[keyCode] = endCb;\n\t    }\n\t  }, {\n\t    key: '__start',\n\t    value: function __start() {\n\t      this.runCallback(this);\n\t    }\n\t  }, {\n\t    key: 'runWithScene',\n\t    value: function runWithScene(scene) {\n\t      var _this2 = this;\n\t\n\t      this.scene = scene;\n\t      // 开始运行程序\n\t      setTimeout(function () {\n\t        _this2.runloop();\n\t      }, 1000 / window.fps);\n\t    }\n\t  }, {\n\t    key: 'runloop',\n\t    value: function runloop() {\n\t      var _this3 = this;\n\t\n\t      // events\n\t      var actions = Object.keys(this.actions);\n\t      for (var i = 0; i < actions.length; i++) {\n\t        var keyCode = actions[i];\n\t        if (this.keydowns[keyCode]) {\n\t          // 如果按键被按下, 调用注册的 action\n\t          this.actions[keyCode]();\n\t        }\n\t      }\n\t      // update\n\t      this.update();\n\t      // clear\n\t      this.context.clearRect(0, 0, this.canvas.width, this.canvas.heithisht);\n\t      // draw\n\t      this.draw();\n\t      // next run loop\n\t      setTimeout(function () {\n\t        _this3.runloop();\n\t      }, 1000 / window.fps);\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      this.scene.update();\n\t    }\n\t  }, {\n\t    key: 'draw',\n\t    value: function draw() {\n\t      this.scene.draw();\n\t    }\n\t  }, {\n\t    key: 'init',\n\t    value: function init() {\n\t      var g = this;\n\t      var loads = 0;\n\t      // 预先载入所有图片\n\t      var names = Object.keys(g.images);\n\t\n\t      var _loop = function _loop() {\n\t        var name = names[i];\n\t        path = g.images[name];\n\t\n\t        var img = new Image();\n\t        img.src = path;\n\t        img.onload = function () {\n\t          // 存入 g.images 中\n\t          g.textures[name] = img;\n\t          // 所有图片都成功载入之后, 调用 run\n\t          loads++;\n\t          console.log('load images', loads, names.length);\n\t          if (loads == names.length) {\n\t            console.log('load images', g.images);\n\t            g.__start();\n\t          }\n\t        };\n\t      };\n\t\n\t      for (var i = 0; i < names.length; i++) {\n\t        var path;\n\t\n\t        _loop();\n\t      }\n\t    }\n\t  }], [{\n\t    key: 'instance',\n\t    value: function instance() {\n\t      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t        args[_key] = arguments[_key];\n\t      }\n\t\n\t      this.i = this.i || new (Function.prototype.bind.apply(this, [null].concat(args)))();\n\t      return this.i;\n\t    }\n\t  }]);\n\t\n\t  return LnGame;\n\t}();\n\t\n\texports.default = LnGame;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Play = __webpack_require__(3);\n\t\n\tvar _Play2 = _interopRequireDefault(_Play);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Scene = function () {\n\t  function Scene(game) {\n\t    _classCallCheck(this, Scene);\n\t\n\t    this.game = game;\n\t    this.eles = [];\n\t\n\t    var ball = new _Play2.default(this.game);\n\t    this.addEle(ball);\n\t\n\t    this.game.registerAction('37', function () {\n\t      return ball.onDirection('l');\n\t    }, null, function () {\n\t      return ball.offDirection('l');\n\t    }); //'←'\n\t    this.game.registerAction('39', function () {\n\t      return ball.onDirection('r');\n\t    }, null, function () {\n\t      return ball.offDirection('r');\n\t    }); //'→'\n\t    this.game.registerAction('38', function () {\n\t      return ball.onDirection('t');\n\t    }, null, function () {\n\t      return ball.offDirection('t');\n\t    }); //'↑'\n\t    this.game.registerAction('40', function () {\n\t      return ball.onDirection('b');\n\t    }, null, function () {\n\t      return ball.offDirection('b');\n\t    }); //'↓'\n\t  }\n\t\n\t  _createClass(Scene, [{\n\t    key: 'addEle',\n\t    value: function addEle(img) {\n\t      this.eles.push(img);\n\t    }\n\t  }, {\n\t    key: 'drawEles',\n\t    value: function drawEles() {\n\t      var _this = this;\n\t\n\t      this.eles.forEach(function (ele) {\n\t        _this.game.drawImage(ele);\n\t      });\n\t    }\n\t  }, {\n\t    key: 'draw',\n\t    value: function draw() {\n\t      // draw 背景\n\t      this.game.context.fillStyle = \"#554\";\n\t      this.game.context.fillRect(0, 0, this.game.config.width, this.game.config.height);\n\t\n\t      // draw\n\t\n\t      this.drawEles();\n\t\n\t      // game.drawImage(paddle)\n\t      // this.game.drawImage(this.ball)\n\t      // draw blocks\n\t      // for (var i = 0; i < blocks.length; i++) {\n\t      //     var block = blocks[i]\n\t      //     if (block.alive) {\n\t      //         game.drawImage(block)\n\t      //     }\n\t      // }\n\t      // draw labels\n\t      // game.context.fillText('分数: ' + score, 10, 290)\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      if (window.paused) {\n\t        return;\n\t      }\n\t      this.eles.forEach(function (ele) {\n\t        if (ele.anime) {\n\t          ele.anime.update();\n\t        }\n\t        if (ele.update) {\n\t          ele.update();\n\t        }\n\t      });\n\t      // ball.move()\n\t      // // 判断游戏结束\n\t      // if (ball.y > paddle.y) {\n\t      //     // 跳转到 游戏结束 的场景\n\t      //     var end = SceneEnd.new(game)\n\t      //     game.replaceScene(end)\n\t      // }\n\t      // // 判断相撞\n\t      // if (paddle.collide(ball)) {\n\t      //     // 这里应该调用一个 ball.反弹() 来实现\n\t      //     ball.反弹()\n\t      // }\n\t      // // 判断 ball 和 blocks 相撞\n\t      // for (var i = 0; i < blocks.length; i++) {\n\t      //     var block = blocks[i]\n\t      //     if (block.collide(ball)) {\n\t      //         // log('block 相撞')\n\t      //         block.kill()\n\t      //         ball.反弹()\n\t      //         // 更新分数\n\t      //         score += 100\n\t      //     }\n\t      // }\n\t    }\n\t  }]);\n\t\n\t  return Scene;\n\t}();\n\t\n\texports.default = Scene;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _LnImage2 = __webpack_require__(4);\n\t\n\tvar _LnImage3 = _interopRequireDefault(_LnImage2);\n\t\n\tvar _LnAnime = __webpack_require__(5);\n\t\n\tvar _LnAnime2 = _interopRequireDefault(_LnAnime);\n\t\n\tvar _PlayAnime = __webpack_require__(6);\n\t\n\tvar _PlayAnime2 = _interopRequireDefault(_PlayAnime);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Play = function (_LnImage) {\n\t  _inherits(Play, _LnImage);\n\t\n\t  function Play(game) {\n\t    _classCallCheck(this, Play);\n\t\n\t    var _this = _possibleConstructorReturn(this, (Play.__proto__ || Object.getPrototypeOf(Play)).call(this, game, 'pl00_01'));\n\t\n\t    _this.x = 200;\n\t    _this.y = 500;\n\t    _this.speed = 6;\n\t\n\t    _this.l = false;\n\t    _this.r = false;\n\t    _this.t = false;\n\t    _this.b = false;\n\t    _this.lf = null;\n\t    _this.tb = null;\n\t\n\t    _this.moveStage = 'stay'; // stayToLeft left leftToStay stayToRight right rightTostage\n\t\n\t    _this.anime = new _PlayAnime2.default(_this, ['pl00_01', 'pl00_02', 'pl00_03', 'pl00_04', 'pl00_05', 'pl00_06', 'pl00_07', 'pl00_08'], ['pl00_09', 'pl00_10', 'pl00_11', 'pl00_12'], ['pl00_13', 'pl00_14', 'pl00_15', 'pl00_16'], ['pl00_17', 'pl00_18', 'pl00_19', 'pl00_20'], ['pl00_21', 'pl00_22', 'pl00_23', 'pl00_24']);\n\t\n\t    // this.anime = new LnAnime(game, this, ['pl00_01','pl00_02','pl00_03','pl00_04','pl00_05','pl00_06','pl00_07','pl00_08'])\n\t\n\t    return _this;\n\t  }\n\t\n\t  _createClass(Play, [{\n\t    key: 'move',\n\t    value: function move(direction) {\n\t      switch (direction) {\n\t        case 'l':\n\t          this.moveLeft();break;\n\t        case 'r':\n\t          this.moveRight();break;\n\t        case 't':\n\t          this.moveTop();break;\n\t        case 'b':\n\t          this.moveBottom();break;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'moveLeft',\n\t    value: function moveLeft() {\n\t      this.anime.moveLeft();\n\t      this.x > this.speed + this.w / 2 ? this.x -= this.speed : this.x = this.w / 2;\n\t    }\n\t  }, {\n\t    key: 'moveRight',\n\t    value: function moveRight() {\n\t      this.anime.moveRight();\n\t      this.x < this.game.config.width - this.w / 2 - this.speed ? this.x += this.speed : this.x = this.game.config.width - this.w / 2;\n\t    }\n\t  }, {\n\t    key: 'moveTop',\n\t    value: function moveTop() {\n\t      this.y > this.speed + this.h / 2 ? this.y -= this.speed : this.y = this.h / 2;\n\t    }\n\t  }, {\n\t    key: 'moveBottom',\n\t    value: function moveBottom() {\n\t      this.y < this.game.config.height - this.h / 2 - this.speed ? this.y += this.speed : this.y = this.game.config.height - this.h / 2;\n\t    }\n\t  }, {\n\t    key: 'stay',\n\t    value: function stay() {\n\t      // this.changeImageByName('pl00_01')\n\t      this.anime.stay();\n\t    }\n\t  }, {\n\t    key: 'stayLeft',\n\t    value: function stayLeft() {\n\t      this.anime.stay();\n\t    }\n\t  }, {\n\t    key: 'stayRight',\n\t    value: function stayRight() {\n\t      this.anime.stay();\n\t    }\n\t  }, {\n\t    key: 'onDirection',\n\t    value: function onDirection(direction) {\n\t      switch (direction) {\n\t        case 'l':\n\t          if (!this.l && this.r) this.lr = 'l';\n\t          this.l = true;\n\t          break;\n\t        case 'r':\n\t          if (!this.r && this.l) this.lr = 'r';\n\t          this.r = true;\n\t          break;\n\t        case 't':\n\t          if (!this.t && this.b) this.tb = 't';\n\t          this.t = true;\n\t          break;\n\t        case 'b':\n\t          if (!this.b && this.t) this.tb = 'b';\n\t          this.b = true;\n\t          break;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'offDirection',\n\t    value: function offDirection(direction) {\n\t      switch (direction) {\n\t        case 'l':\n\t          this.l = false;\n\t          this.lr = null;\n\t          break;\n\t        case 'r':\n\t          this.r = false;\n\t          this.lr = null;\n\t          break;\n\t        case 't':\n\t          this.t = false;\n\t          this.tb = null;\n\t          break;\n\t        case 'b':\n\t          this.b = false;\n\t          this.tb = null;\n\t          break;\n\t      }\n\t    }\n\t  }, {\n\t    key: 'update',\n\t    value: function update() {\n\t      if (this.lr) {\n\t        this.move(this.lr);\n\t      } else {\n\t        if (this.l) {\n\t          this.move('l');\n\t        } else if (this.r) {\n\t          this.move('r');\n\t        } else {\n\t          this.anime.stay();\n\t        }\n\t      }\n\t      if (this.tb) {\n\t        this.move(this.tb);\n\t      } else {\n\t        if (this.t) {\n\t          this.move('t');\n\t        } else if (this.b) {\n\t          this.move('b');\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'startMoveLeft',\n\t    value: function startMoveLeft() {\n\t      // this.anime.startLeft()\n\t      // if (this.moveStage !== 'moveLeft' && this.moveStage !== 'left') {      \n\t      //   this.moveStage = 'moveLeft'\n\t      //   this.anime = new LnAnime(this.game, this, ['pl00_09','pl00_10','pl00_11','pl00_12'],5,1, ()=> {\n\t      //     this.moveStage = 'left'\n\t      //     this.anime = new LnAnime(this.game, this, ['pl00_13','pl00_14','pl00_15','pl00_16'])\n\t      //   })\n\t      // }\n\t      console.log('start left');\n\t      // this.anime = new LnAnime(this.game, this, ['pl00_09','pl00_10','pl00_11','pl00_12'],2,1)\n\t    }\n\t  }, {\n\t    key: 'startMoveRight',\n\t    value: function startMoveRight() {\n\t      // this.anime.startRight()\n\t      console.log('start right');\n\t    }\n\t  }, {\n\t    key: 'startMoveTop',\n\t    value: function startMoveTop() {}\n\t  }, {\n\t    key: 'startMoveBottom',\n\t    value: function startMoveBottom() {}\n\t  }]);\n\t\n\t  return Play;\n\t}(_LnImage3.default);\n\t\n\texports.default = Play;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar LnImage = function LnImage(game, name) {\n\t  _classCallCheck(this, LnImage);\n\t\n\t  this.game = game;\n\t  this.name = name;\n\t  this.texture = game.textures[name];\n\t  this.w = this.texture.width;\n\t  this.h = this.texture.height;\n\t  this.x = 0;\n\t  this.y = 0;\n\t}\n\t\n\t// changeImageByName(name) {\n\t// \tthis.image = this.game.images[name]\n\t// }\n\t;\n\t\n\texports.default = LnImage;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar LnAnime = function () {\n\t  function LnAnime(game, lnImage, names) {\n\t    var frameCount = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 5;\n\t    var iteration = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 'infinite';\n\t    var cb = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;\n\t\n\t    _classCallCheck(this, LnAnime);\n\t\n\t    this.lnImage = lnImage;\n\t    this.game = game;\n\t    this.changeNames(names);\n\t    this.frameIndex = 0;\n\t\n\t    this.frameCount = frameCount;\n\t    this.nowCount = frameCount;\n\t\n\t    this.iteration = iteration;\n\t\n\t    this.cb = cb;\n\t  }\n\t\n\t  _createClass(LnAnime, [{\n\t    key: 'update',\n\t    value: function update() {\n\t      this.nowCount--;\n\t      if (this.nowCount == 0 && this.iteration !== 0) {\n\t\n\t        this.nowCount = this.frameCount;\n\t        this.frameIndex = (this.frameIndex + 1) % this.frames.length;\n\t\n\t        this.lnImage.image = this.frames[this.frameIndex];\n\t\n\t        if (this.frameIndex == this.frames.length - 1) {\n\t          switch (this.iteration) {\n\t            case 'infinite':\n\t              break;\n\t            case 1:\n\t              this.iteration = 0;\n\t              if (this.cb) {\n\t                this.cb();\n\t              }\n\t              break;\n\t            default:\n\t              this.iteration--;\n\t              break;\n\t          }\n\t        }\n\t      }\n\t    }\n\t  }, {\n\t    key: 'changeNames',\n\t    value: function changeNames(names) {\n\t      var _this = this;\n\t\n\t      this.frameCount = 5;\n\t      this.frames = names.map(function (name) {\n\t        return _this.game.images[name];\n\t      });\n\t    }\n\t  }]);\n\t\n\t  return LnAnime;\n\t}();\n\t\n\texports.default = LnAnime;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _LnAnime = __webpack_require__(5);\n\t\n\tvar _LnAnime2 = _interopRequireDefault(_LnAnime);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar PlayAnime = function () {\n\t\tfunction PlayAnime(lnImage, stayImgs, stayToLeftImgs, leftImgs, stayToRightImgs, rightImgs) {\n\t\t\t_classCallCheck(this, PlayAnime);\n\t\n\t\t\tthis.lnImage = lnImage;\n\t\t\tthis.stayImgs = stayImgs;\n\t\t\tthis.stayToLeftImgs = stayToLeftImgs;\n\t\t\tthis.leftImgs = leftImgs;\n\t\t\tthis.stayToRightImgs = stayToRightImgs;\n\t\t\tthis.rightImgs = rightImgs;\n\t\n\t\t\tthis.infinieFrame = 3;\n\t\t\tthis.quickFrame = 1;\n\t\n\t\t\tthis.frameCount = this.infinieFrame;\n\t\t\tthis.nowCount = this.quickFrame;\n\t\t\tthis.frameIndex = 0;\n\t\n\t\t\tthis.frames = this.stayImgs;\n\t\n\t\t\tthis.stage = 'stay'; // stayToLeft left leftToStay stayToRight right rightTostage\n\t\n\t\n\t\t\tthis.iteration = 'infinite';\n\t\t\tthis.nextFun = null;\n\t\n\t\t\tconsole.log(this);\n\t\t}\n\t\n\t\t_createClass(PlayAnime, [{\n\t\t\tkey: 'update',\n\t\t\tvalue: function update() {\n\t\n\t\t\t\tif (this.nextFun) {\n\t\t\t\t\tthis.nextFun();\n\t\t\t\t\tthis.nextFun = null;\n\t\t\t\t}\n\t\n\t\t\t\tthis.nowCount--;\n\t\t\t\tif (this.nowCount === 0) {\n\t\t\t\t\tthis.nowCount = this.frameCount;\n\t\t\t\t\tthis.doAnime();\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'doAnime',\n\t\t\tvalue: function doAnime() {\n\t\t\t\tthis.frameIndex++;\n\t\t\t\tif (this.iteration !== 0) {\n\t\t\t\t\tif (this.frameIndex < this.frames.length) {\n\t\t\t\t\t\tthis.lnImage.name = this.frames[this.frameIndex];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitch (this.iteration) {\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tthis.iteration--;\n\t\t\t\t\t\t\tcase 'infinite':\n\t\t\t\t\t\t\t\tthis.frameIndex = 0;\n\t\t\t\t\t\t\t\tthis.lnImage.name = this.frames[this.frameIndex];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\tthis.end();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'moveLeft',\n\t\t\tvalue: function moveLeft() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tif (this.stage !== 'stayToLeft' && this.stage !== 'left') {\n\t\t\t\t\tthis.stage = 'stayToLeft';\n\t\t\t\t\tthis.nextFun = function () {\n\t\t\t\t\t\t_this.configAnime(_this.stayToLeftImgs, 1, _this.quickFrame);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'moveRight',\n\t\t\tvalue: function moveRight() {\n\t\t\t\tvar _this2 = this;\n\t\n\t\t\t\tif (this.stage !== 'stayToRight' && this.stage !== 'right') {\n\t\t\t\t\tthis.stage = 'stayToRight';\n\t\t\t\t\tthis.nextFun = function () {\n\t\t\t\t\t\t_this2.configAnime(_this2.stayToRightImgs, 1, _this2.quickFrame);\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'end',\n\t\t\tvalue: function end() {\n\t\t\t\tvar _this3 = this;\n\t\n\t\t\t\tswitch (this.stage) {\n\t\t\t\t\tcase 'stayToLeft':\n\t\t\t\t\t\tthis.stage = 'left';\n\t\t\t\t\t\tthis.nextFun = function () {\n\t\t\t\t\t\t\t_this3.configAnime(_this3.leftImgs);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'stayToRight':\n\t\t\t\t\t\tthis.stage = 'right';\n\t\t\t\t\t\tthis.nextFun = function () {\n\t\t\t\t\t\t\t_this3.configAnime(_this3.rightImgs);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'leftToStay':\n\t\t\t\t\tcase 'rightToStay':\n\t\t\t\t\t\tthis.stage = 'stay';\n\t\t\t\t\t\tthis.nextFun = function () {\n\t\t\t\t\t\t\t_this3.configAnime(_this3.stayImgs);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'stay',\n\t\t\tvalue: function stay() {\n\t\t\t\tvar _this4 = this;\n\t\n\t\t\t\tswitch (this.stage) {\n\t\t\t\t\tcase 'left':\n\t\t\t\t\t\tthis.stage = 'leftToStay';\n\t\t\t\t\t\tthis.nextFun = function () {\n\t\t\t\t\t\t\t_this4.configAnime(_this4.stayToLeftImgs.slice().reverse(), 1, _this4.quickFrame);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'stayToLeft':\n\t\t\t\t\t\tthis.stage = 'leftToStay';\n\t\t\t\t\t\tthis.nextFun = function () {\n\t\t\t\t\t\t\t_this4.configAnime(_this4.stayToLeftImgs.slice(_this4.frameIndex).reverse(), 1, _this4.quickFrame);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'right':\n\t\t\t\t\t\tthis.stage = 'rightToStay';\n\t\t\t\t\t\tthis.nextFun = function () {\n\t\t\t\t\t\t\t_this4.configAnime(_this4.stayToRightImgs.slice().reverse(), 1, _this4.quickFrame);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'stayToRight':\n\t\t\t\t\t\tthis.stage = 'rightToStay';\n\t\t\t\t\t\tthis.nextFun = function () {\n\t\t\t\t\t\t\t_this4.configAnime(_this4.stayToRightImgs.slice(_this4.frameIndex).reverse(), 1, _this4.quickFrame);\n\t\t\t\t\t\t};\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}, {\n\t\t\tkey: 'configAnime',\n\t\t\tvalue: function configAnime(frames) {\n\t\t\t\tvar iteration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'infinite';\n\t\t\t\tvar frameCount = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.infinieFrame;\n\t\n\t\t\t\tthis.frames = frames;\n\t\t\t\tthis.iteration = iteration;\n\t\t\t\tthis.frameCount = frameCount;\n\t\t\t\tthis.frameIndex = -1;\n\t\t\t}\n\t\t}]);\n\t\n\t\treturn PlayAnime;\n\t}();\n\t\n\texports.default = PlayAnime;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.default = {\n\t\twidth: 400,\n\t\theight: 600\n\t};\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// game.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/public/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 08ffa23fdd82bf0536b5","let enableDebugMode = (game, enable) => {\r\n\tif(!enable) return\r\n\r\n\r\n}\r\n\r\n\r\nimport LnGame from './LnGame/LnGame'\r\nimport Scene from './scene/scene'\r\nimport config from './config'\r\n\r\n\r\nvar images = {\r\n  ball: 'img/ball.png',\r\n  // block: 'img/block.png',\r\n  // paddle: 'img/paddle.png',\r\n  pl00_01: 'img/pl00/pl00_01.png',\r\n  pl00_02: 'img/pl00/pl00_02.png',\r\n  pl00_03: 'img/pl00/pl00_03.png',\r\n  pl00_04: 'img/pl00/pl00_04.png',\r\n  pl00_05: 'img/pl00/pl00_05.png',\r\n  pl00_06: 'img/pl00/pl00_06.png',\r\n  pl00_07: 'img/pl00/pl00_07.png',\r\n  pl00_08: 'img/pl00/pl00_08.png',\r\n  pl00_09: 'img/pl00/pl00_09.png',\r\n  pl00_10: 'img/pl00/pl00_10.png',\r\n  pl00_11: 'img/pl00/pl00_11.png',\r\n  pl00_12: 'img/pl00/pl00_12.png',\r\n  pl00_13: 'img/pl00/pl00_13.png',\r\n  pl00_14: 'img/pl00/pl00_14.png',\r\n  pl00_15: 'img/pl00/pl00_15.png',\r\n  pl00_16: 'img/pl00/pl00_16.png',\r\n  pl00_17: 'img/pl00/pl00_17.png',\r\n  pl00_18: 'img/pl00/pl00_18.png',\r\n  pl00_19: 'img/pl00/pl00_19.png',\r\n  pl00_20: 'img/pl00/pl00_20.png',\r\n  pl00_21: 'img/pl00/pl00_21.png',\r\n  pl00_22: 'img/pl00/pl00_22.png',\r\n  pl00_23: 'img/pl00/pl00_23.png',\r\n  pl00_24: 'img/pl00/pl00_24.png',\r\n}\r\nvar game = LnGame.instance(30, config, images, function(g){\r\n\tlet s = new Scene(g)\r\n  g.runWithScene(s)\r\n})\r\nenableDebugMode(game, true)\r\n\r\nconsole.log(game)\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export default class LnGame {\r\n\tconstructor(fps, config ,images, runCallback){\r\n    window.fps = fps\r\n    this.config = config\r\n    this.images = images\r\n\r\n    this.textures = {}\r\n    this.runCallback = runCallback\r\n\r\n    this.scene = null\r\n    this.actions = {}\r\n    this.endActions = {}\r\n    this.startActions = {}\r\n    this.keydowns = {}\r\n    this.canvas = document.querySelector('#id-canvas')\r\n    this.context = this.canvas.getContext('2d')\r\n\r\n    window.addEventListener('keydown', event => {\r\n      this.keydowns[event.keyCode] = true\r\n      if (this.startActions[event.keyCode] && this.startActions[event.keyCode].allow) {\r\n        this.startActions[event.keyCode].cb()\r\n        this.startActions[event.keyCode].allow = false\r\n      }\r\n    })\r\n    window.addEventListener('keyup', event => {\r\n      this.keydowns[event.keyCode] = false\r\n      if (this.endActions[event.keyCode]) {\r\n        this.endActions[event.keyCode]()\r\n        if (this.startActions[event.keyCode]){\r\n          this.startActions[event.keyCode].allow = true\r\n        }\r\n      }\r\n    })\r\n\r\n    this.init()\r\n\t}\r\n\r\n  static instance(...args) {\r\n    this.i = this.i || new this(...args)\r\n    return this.i\r\n  }\r\n  drawImage(img) {\r\n    let texture = this.textures[img.name]\r\n    this.context.drawImage(texture, img.x-img.w/2, img.y-img.h/2)\r\n  }\r\n  registerAction(keyCode, cb, startCb ,endCb) {\r\n    if (cb) this.actions[keyCode] = cb\r\n\r\n    if (startCb) this.startActions[keyCode] = {\r\n      cb: startCb,\r\n      allow: true,\r\n    }\r\n\r\n    if (endCb) this.endActions[keyCode] = endCb\r\n\r\n  }\r\n\r\n  __start(){\r\n  \tthis.runCallback(this)\r\n  }\r\n\r\n\trunWithScene(scene){\r\n\t\tthis.scene = scene\r\n    // 开始运行程序\r\n    setTimeout(() => {\r\n      this.runloop()\r\n    }, 1000/window.fps)\r\n\t}\r\n\r\n\trunloop(){\r\n    // events\r\n    var actions = Object.keys(this.actions)\r\n    for (var i = 0; i < actions.length; i++) {\r\n        var keyCode = actions[i]\r\n        if(this.keydowns[keyCode]) {\r\n            // 如果按键被按下, 调用注册的 action\r\n            this.actions[keyCode]()\r\n        }\r\n    }\r\n    // update\r\n    this.update()\r\n    // clear\r\n    this.context.clearRect(0, 0, this.canvas.width, this.canvas.heithisht)\r\n    // draw\r\n    this.draw()\r\n    // next run loop\r\n    setTimeout(()=>{\r\n      this.runloop()\r\n    }, 1000/window.fps)\r\n\t}\r\n\tupdate(){\r\n\t\tthis.scene.update()\r\n\t}\r\n\tdraw(){\r\n\t\tthis.scene.draw()\r\n\t}\r\n\r\n\r\n  init(){\r\n    var g = this\r\n    var loads = 0\r\n    // 预先载入所有图片\r\n    var names = Object.keys(g.images)\r\n    for (var i = 0; i < names.length; i++) {\r\n      let name = names[i]\r\n      var path = g.images[name]\r\n      let img = new Image()\r\n      img.src = path\r\n      img.onload = function() {\r\n        // 存入 g.images 中\r\n        g.textures[name] = img\r\n        // 所有图片都成功载入之后, 调用 run\r\n        loads++\r\n        console.log('load images', loads, names.length)\r\n        if (loads == names.length) {\r\n          console.log('load images', g.images)\r\n          g.__start()\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/LnGame/LnGame.js","import Play from '../play/Play'\r\n\r\nexport default class Scene {\r\n\r\n\tconstructor(game) {\r\n\t\tthis.game = game\r\n    this.eles = []\r\n\r\n    let ball = new Play(this.game)\r\n    this.addEle(ball)\r\n\r\n\r\n    this.game.registerAction('37',()=>ball.onDirection('l'),null,()=>ball.offDirection('l')) //'←'\r\n    this.game.registerAction('39',()=>ball.onDirection('r'),null,()=>ball.offDirection('r')) //'→'\r\n    this.game.registerAction('38',()=>ball.onDirection('t'),null,()=>ball.offDirection('t')) //'↑'\r\n    this.game.registerAction('40',()=>ball.onDirection('b'),null,()=>ball.offDirection('b')) //'↓'\r\n\r\n\t}\r\n  addEle(img) {\r\n    this.eles.push(img)\r\n  }\r\n  drawEles(){\r\n    this.eles.forEach(ele=>{\r\n      this.game.drawImage(ele)\r\n    }, )\r\n  }\r\n\tdraw(){\r\n    // draw 背景\r\n    this.game.context.fillStyle = \"#554\"\r\n    this.game.context.fillRect(0, 0, this.game.config.width, this.game.config.height)\r\n\r\n    // draw\r\n    \r\n    this.drawEles() \r\n    \r\n    // game.drawImage(paddle)\r\n    // this.game.drawImage(this.ball)\r\n    // draw blocks\r\n    // for (var i = 0; i < blocks.length; i++) {\r\n    //     var block = blocks[i]\r\n    //     if (block.alive) {\r\n    //         game.drawImage(block)\r\n    //     }\r\n    // }\r\n    // draw labels\r\n    // game.context.fillText('分数: ' + score, 10, 290)\r\n\t}\r\n  update() {\r\n      if (window.paused) {\r\n        return\r\n      }\r\n      this.eles.forEach(ele=>{\r\n        if (ele.anime) {\r\n          ele.anime.update()\r\n        }\r\n        if (ele.update) {\r\n          ele.update()\r\n        }\r\n      }, )\r\n      // ball.move()\r\n      // // 判断游戏结束\r\n      // if (ball.y > paddle.y) {\r\n      //     // 跳转到 游戏结束 的场景\r\n      //     var end = SceneEnd.new(game)\r\n      //     game.replaceScene(end)\r\n      // }\r\n      // // 判断相撞\r\n      // if (paddle.collide(ball)) {\r\n      //     // 这里应该调用一个 ball.反弹() 来实现\r\n      //     ball.反弹()\r\n      // }\r\n      // // 判断 ball 和 blocks 相撞\r\n      // for (var i = 0; i < blocks.length; i++) {\r\n      //     var block = blocks[i]\r\n      //     if (block.collide(ball)) {\r\n      //         // log('block 相撞')\r\n      //         block.kill()\r\n      //         ball.反弹()\r\n      //         // 更新分数\r\n      //         score += 100\r\n      //     }\r\n      // }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/scene/scene.js","import LnImage from '../LnGame/LnImage'\r\nimport LnAnime from '../LnGame/LnAnime'\r\n\r\nimport PlayAnime from './PlayAnime'\r\n\r\nexport default class Play extends LnImage{\r\n\r\n  constructor(game) {\r\n    super(game, 'pl00_01')\r\n    this.x = 200\r\n    this.y = 500\r\n    this.speed = 6\r\n\r\n    this.l = false\r\n    this.r = false\r\n    this.t = false\r\n    this.b = false\r\n    this.lf = null\r\n    this.tb = null\r\n\r\n\r\n\r\n    this.moveStage = 'stay' // stayToLeft left leftToStay stayToRight right rightTostage\r\n\r\n    this.anime = new PlayAnime(\r\n      this,\r\n      ['pl00_01','pl00_02','pl00_03','pl00_04','pl00_05','pl00_06','pl00_07','pl00_08'],\r\n      ['pl00_09','pl00_10','pl00_11','pl00_12'],\r\n      ['pl00_13','pl00_14','pl00_15','pl00_16'],\r\n      ['pl00_17','pl00_18','pl00_19','pl00_20'],\r\n      ['pl00_21','pl00_22','pl00_23','pl00_24'],\r\n    )\r\n\r\n    // this.anime = new LnAnime(game, this, ['pl00_01','pl00_02','pl00_03','pl00_04','pl00_05','pl00_06','pl00_07','pl00_08'])\r\n\r\n  }\r\n\r\n  move(direction) {\r\n    switch(direction) {\r\n      case 'l': this.moveLeft(); break;\r\n      case 'r': this.moveRight(); break;\r\n      case 't': this.moveTop(); break;\r\n      case 'b': this.moveBottom(); break;\r\n    }\r\n  }\r\n  moveLeft(){\r\n    this.anime.moveLeft()\r\n    this.x > this.speed + this.w/2 ? this.x -= this.speed : this.x = this.w/2\r\n  }\r\n  moveRight(){\r\n    this.anime.moveRight()\r\n    this.x < this.game.config.width - this.w/2 - this.speed ? this.x += this.speed : this.x = this.game.config.width - this.w/2\r\n  }\r\n  moveTop(){\r\n    this.y > this.speed + this.h/2 ? this.y -= this.speed : this.y = this.h/2 \r\n  }\r\n  moveBottom(){\r\n    this.y < this.game.config.height - this.h/2 - this.speed ? this.y += this.speed : this.y = this.game.config.height - this.h/2\r\n  }\r\n  stay(){\r\n    // this.changeImageByName('pl00_01')\r\n    this.anime.stay()\r\n  }\r\n\r\n  stayLeft() {\r\n    this.anime.stay()\r\n  }\r\n  stayRight() {\r\n    this.anime.stay()\r\n  }\r\n\r\n\r\n  onDirection(direction) {\r\n    switch (direction) {\r\n      case 'l':\r\n        if (!this.l && this.r) this.lr = 'l'\r\n        this.l = true\r\n        break;\r\n      case 'r':\r\n        if (!this.r && this.l) this.lr = 'r'\r\n        this.r = true\r\n        break;\r\n      case 't':\r\n         if (!this.t && this.b) this.tb = 't'\r\n        this.t = true\r\n        break;\r\n      case 'b':\r\n         if (!this.b && this.t) this.tb = 'b'\r\n        this.b = true\r\n        break;\r\n    }\r\n\r\n  }\r\n  offDirection(direction) {\r\n    switch (direction) {\r\n      case 'l':\r\n        this.l = false\r\n        this.lr = null\r\n        break;\r\n      case 'r':\r\n        this.r = false\r\n        this.lr = null\r\n        break;\r\n      case 't':\r\n        this.t = false\r\n        this.tb = null\r\n        break;\r\n      case 'b':\r\n        this.b = false\r\n        this.tb = null\r\n        break;\r\n    }\r\n  }\r\n\r\n  update(){\r\n    if (this.lr) {\r\n      this.move(this.lr)\r\n    } else {\r\n      if (this.l) {\r\n        this.move('l')\r\n      } else if (this.r)  {\r\n        this.move('r')\r\n      } else {\r\n        this.anime.stay()\r\n      }\r\n    }\r\n    if (this.tb) {\r\n      this.move(this.tb)\r\n    } else {\r\n      if (this.t) {\r\n        this.move('t')\r\n      } else if (this.b)  {\r\n        this.move('b')\r\n      }\r\n    }\r\n  }\r\n\r\n\r\n  startMoveLeft(){\r\n    // this.anime.startLeft()\r\n    // if (this.moveStage !== 'moveLeft' && this.moveStage !== 'left') {      \r\n    //   this.moveStage = 'moveLeft'\r\n    //   this.anime = new LnAnime(this.game, this, ['pl00_09','pl00_10','pl00_11','pl00_12'],5,1, ()=> {\r\n    //     this.moveStage = 'left'\r\n    //     this.anime = new LnAnime(this.game, this, ['pl00_13','pl00_14','pl00_15','pl00_16'])\r\n    //   })\r\n    // }\r\n    console.log('start left')\r\n    // this.anime = new LnAnime(this.game, this, ['pl00_09','pl00_10','pl00_11','pl00_12'],2,1)\r\n  }\r\n  startMoveRight(){\r\n    // this.anime.startRight()\r\n    console.log('start right')\r\n  }\r\n  startMoveTop(){\r\n\r\n  }\r\n  startMoveBottom(){\r\n\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/play/Play.js","\r\nexport default class LnImage {\r\n\tconstructor(game,name){\r\n\t\tthis.game = game\r\n    this.name = name\r\n    this.texture = game.textures[name]\r\n    this.w = this.texture.width\r\n    this.h = this.texture.height\r\n    this.x = 0\r\n    this.y = 0\r\n\t}\r\n\r\n\t// changeImageByName(name) {\r\n\t// \tthis.image = this.game.images[name]\r\n\t// }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/LnGame/LnImage.js"," export default class LnAnime {\r\n \tconstructor(game, lnImage, names,frameCount = 5, iteration = 'infinite',cb = null) {\r\n \t\tthis.lnImage = lnImage\r\n \t\tthis.game = game\r\n \t\tthis.changeNames(names)\r\n \t\tthis.frameIndex = 0\r\n\r\n \t\tthis.frameCount = frameCount\r\n \t\tthis.nowCount = frameCount\r\n\r\n \t\tthis.iteration = iteration\r\n\r\n \t\tthis.cb = cb\r\n\r\n \t}\r\n\r\n \tupdate() {\r\n \t\tthis.nowCount--\r\n \t\tif (this.nowCount == 0 && this.iteration !== 0) {\r\n\r\n\t \t\t\tthis.nowCount = this.frameCount\r\n\t \t\t\tthis.frameIndex = ( this.frameIndex + 1 ) % this.frames.length\r\n\r\n\t \t\t\tthis.lnImage.image = this.frames[this.frameIndex]\r\n\r\n\t \t\t\tif (this.frameIndex == this.frames.length - 1) {\r\n\t \t\t\t\tswitch (this.iteration) {\r\n\t \t\t\t\t\tcase 'infinite':\r\n\t \t\t\t\t\t\tbreak;\r\n\t \t\t\t\t\tcase 1:\r\n\t \t\t\t\t\t\tthis.iteration = 0\r\n\t \t\t\t\t\t\tif (this.cb) {\r\n\t \t\t\t\t\t\t\tthis.cb()\r\n\t \t\t\t\t\t\t}\r\n\t \t\t\t\t\t\tbreak;\r\n\t \t\t\t\t\tdefault:\r\n\t \t\t\t\t\t\tthis.iteration--\r\n\t \t\t\t\t\t\tbreak;\r\n\t \t\t\t\t}\r\n\t \t\t\t}\r\n\r\n \t\t}\r\n \t}\r\n \tchangeNames(names) {\r\n \t\tthis.frameCount = 5\r\n \t\tthis.frames = names.map(name=>{\r\n \t\t\treturn this.game.images[name]\r\n \t\t})\r\n \t}\r\n }\n\n\n// WEBPACK FOOTER //\n// ./src/LnGame/LnAnime.js","import LnAnime from '../LnGame/LnAnime'\r\n\r\nexport default class PlayAnime {\r\n\tconstructor(\r\n\t\tlnImage,\r\n\t\tstayImgs,\r\n\t\tstayToLeftImgs,\r\n\t\tleftImgs,\r\n\t\tstayToRightImgs,\r\n\t\trightImgs\r\n\t) {\r\n\t\tthis.lnImage = lnImage\r\n\t\tthis.stayImgs = stayImgs\r\n\t\tthis.stayToLeftImgs = stayToLeftImgs\r\n\t\tthis.leftImgs = leftImgs\r\n\t\tthis.stayToRightImgs = stayToRightImgs\r\n\t\tthis.rightImgs = rightImgs\r\n\r\n\r\n\t\tthis.infinieFrame = 3\r\n\t\tthis.quickFrame = 1\r\n\r\n\t\tthis.frameCount = this.infinieFrame\r\n\t\tthis.nowCount = this.quickFrame\r\n\t\tthis.frameIndex = 0\r\n\r\n\t\tthis.frames = this.stayImgs\r\n\r\n\t\tthis.stage = 'stay' // stayToLeft left leftToStay stayToRight right rightTostage\r\n\r\n\r\n\t\tthis.iteration = 'infinite'\r\n\t\tthis.nextFun = null\r\n\r\n\t\tconsole.log(this)\r\n\t}\r\n\r\n\r\n\tupdate(){\r\n\r\n\t\tif (this.nextFun) {\r\n\t\t\tthis.nextFun()\r\n\t\t\tthis.nextFun = null\r\n\t\t}\r\n\r\n\t\tthis.nowCount--\r\n\t\tif (this.nowCount === 0) {\r\n\t\t\tthis.nowCount = this.frameCount\r\n\t\t\tthis.doAnime()\r\n\t\t}\r\n\t}\r\n\r\n\tdoAnime() {\r\n\t\tthis.frameIndex++\r\n\t\tif (this.iteration !== 0) {\r\n\t\t\tif (this.frameIndex < this.frames.length) {\r\n\t\t\t\tthis.lnImage.name = this.frames[this.frameIndex]\r\n\t\t\t} else {\r\n\t\t\t\tswitch (this.iteration) {\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tthis.iteration--\r\n\t\t\t\t\tcase 'infinite':\r\n\t\t\t\t\t\tthis.frameIndex = 0\r\n\t\t\t\t\t\tthis.lnImage.name = this.frames[this.frameIndex]\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tthis.end()\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tmoveLeft() {\r\n\t\tif (this.stage !== 'stayToLeft' && this.stage !== 'left') {\r\n\t\t\tthis.stage = 'stayToLeft'\r\n\t\t\tthis.nextFun = () => {\r\n\t\t\t\tthis.configAnime(this.stayToLeftImgs,1,this.quickFrame)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tmoveRight() {\r\n\t\tif (this.stage !== 'stayToRight' && this.stage !== 'right') {\r\n\t\t\tthis.stage = 'stayToRight'\r\n\t\t\tthis.nextFun = () => {\r\n\t\t\t\tthis.configAnime(this.stayToRightImgs,1,this.quickFrame)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tend() { \r\n\t\tswitch (this.stage) {\r\n\t\t\tcase 'stayToLeft': \r\n\t\t\t\tthis.stage = 'left'\r\n\t\t\t\tthis.nextFun = () => {\r\n\t\t\t\t\tthis.configAnime(this.leftImgs)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'stayToRight': \r\n\t\t\t\tthis.stage = 'right'\r\n\t\t\t\tthis.nextFun = () => {\r\n\t\t\t\t\tthis.configAnime(this.rightImgs)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'leftToStay':\r\n\t\t\tcase 'rightToStay':\r\n\t\t\t\tthis.stage = 'stay'\r\n\t\t\t\tthis.nextFun = () => {\r\n\t\t\t\t\tthis.configAnime(this.stayImgs)\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tstay() {\r\n\t\tswitch (this.stage) {\r\n\t\t\tcase 'left': \r\n\t\t\t\tthis.stage = 'leftToStay'\r\n\t\t\t\tthis.nextFun = () => {\r\n\t\t\t\t\tthis.configAnime(this.stayToLeftImgs.slice().reverse(),1,this.quickFrame)\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase 'stayToLeft':\r\n\t\t\t\tthis.stage = 'leftToStay'\r\n\t\t\t\tthis.nextFun = () => {\r\n\t\t\t\t\tthis.configAnime(this.stayToLeftImgs.slice(this.frameIndex).reverse(),1,this.quickFrame)\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase 'right': \r\n\t\t\t\tthis.stage = 'rightToStay'\r\n\t\t\t\tthis.nextFun = () => {\r\n\t\t\t\t\tthis.configAnime(this.stayToRightImgs.slice().reverse(),1,this.quickFrame)\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase 'stayToRight':\r\n\t\t\t\tthis.stage = 'rightToStay'\r\n\t\t\t\tthis.nextFun = () => {\r\n\t\t\t\t\tthis.configAnime(this.stayToRightImgs.slice(this.frameIndex).reverse(),1,this.quickFrame)\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t}\r\n\r\n\tconfigAnime(frames,iteration = 'infinite', frameCount = this.infinieFrame) {\r\n\t\tthis.frames = frames\r\n\t\tthis.iteration = iteration\r\n\t\tthis.frameCount = frameCount\r\n\t\tthis.frameIndex = -1\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/play/PlayAnime.js","export default {\r\n\twidth: 400,\r\n\theight: 600,\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/config.js"],"sourceRoot":""}